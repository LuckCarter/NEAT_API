{"version":3,"sources":["../../src/resolvers/product.resolver.js"],"names":["module","exports","Query","products","Models","Product","find","productsFilter","parent","args","regex","RegExp","value","$and","$or","Title","Description","productsByArray","_id","$in","array","product","findById","id","Mutation","createProduct","newProduct","Price","Url","save","deleteProduct","findByIdAndDelete","updateProduct","context","findByIdAndUpdate","console","log"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;AACAA,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE,oBAAM;AACd,aAAOC,MAAM,CAACC,OAAP,CAAeC,IAAf,EAAP;AACD,KAHI;AAILC,IAAAA,cAAc,EAAE,wBAACC,MAAD,EAASC,IAAT,EAAkB;AAChC,UAAIC,KAAK,GAAG,IAAIC,MAAJ,CAAWF,IAAI,CAACG,KAAhB,EAAuB,GAAvB,CAAZ;AACA,aAAOR,MAAM,CAACC,OAAP,CAAeC,IAAf,CAAoB;AACzBO,QAAAA,IAAI,EAAE,CAAC;AAAEC,UAAAA,GAAG,EAAE,CAAC;AAAEC,YAAAA,KAAK,EAAEL;AAAT,WAAD,EAAmB;AAAEM,YAAAA,WAAW,EAAEN;AAAf,WAAnB;AAAP,SAAD;AADmB,OAApB,CAAP;AAGD,KATI;AAULO,IAAAA,eAAe,EAAE,yBAACT,MAAD,EAASC,IAAT,EAAkB;AACjC,aAAOL,MAAM,CAACC,OAAP,CAAeC,IAAf,CAAoB;AACzBY,QAAAA,GAAG,EAAE;AAAEC,UAAAA,GAAG,EAAEV,IAAI,CAACW;AAAZ;AADoB,OAApB,CAAP;AAGD,KAdI;AAeLC,IAAAA,OAAO,EAAE,iBAACb,MAAD,EAASC,IAAT,EAAkB;AACzB,aAAOL,MAAM,CAACC,OAAP,CAAeiB,QAAf,CAAwBb,IAAI,CAACc,EAA7B,CAAP;AACD;AAjBI,GADQ;AAoBfC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,aAAa,EAAE,uBAACjB,MAAD,EAASC,IAAT,EAAkB;AAC/B,UAAMiB,UAAU,GAAG,IAAItB,MAAM,CAACC,OAAX,CAAmB;AACpCU,QAAAA,KAAK,EAAEN,IAAI,CAACM,KADwB;AAEpCY,QAAAA,KAAK,EAAElB,IAAI,CAACkB,KAFwB;AAGpCC,QAAAA,GAAG,EAAEnB,IAAI,CAACmB,GAH0B;AAIpCZ,QAAAA,WAAW,EAAEP,IAAI,CAACO;AAJkB,OAAnB,CAAnB;AAMA,aAAOU,UAAU,CAACG,IAAX,EAAP;AACD,KATO;AAURC,IAAAA,aAAa,EAAE,uBAACtB,MAAD,EAASC,IAAT,EAAkB;AAC/B,aAAOL,MAAM,CAACC,OAAP,CAAe0B,iBAAf,CAAiCtB,IAAI,CAACc,EAAtC,CAAP;AACD,KAZO;AAaRS,IAAAA,aAAa;AAAA,mFAAE,iBAAOxB,MAAP,EAAeC,IAAf,EAAqBwB,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEW7B,MAAM,CAACC,OAAP,CAAe6B,iBAAf,CACpB;AAAEhB,kBAAAA,GAAG,EAAET,IAAI,CAACc;AAAZ,iBADoB,EAEpB;AACER,kBAAAA,KAAK,EAAEN,IAAI,CAACM,KADd;AAEEY,kBAAAA,KAAK,EAAElB,IAAI,CAACkB,KAFd;AAGEX,kBAAAA,WAAW,EAAEP,IAAI,CAACO,WAHpB;AAIEY,kBAAAA,GAAG,EAAEnB,IAAI,CAACmB;AAJZ,iBAFoB,CAFX;;AAAA;AAELvB,gBAAAA,OAFK;AAAA,iDAWJA,OAXI;;AAAA;AAAA;AAAA;AAaX8B,gBAAAA,OAAO,CAACC,GAAR;;AAbW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAbL;AApBK,CAAjB","sourcesContent":["import * as Models from \"../models\";\nmodule.exports = {\n  Query: {\n    products: () => {\n      return Models.Product.find();\n    },\n    productsFilter: (parent, args) => {\n      let regex = new RegExp(args.value, \"i\");\n      return Models.Product.find({\n        $and: [{ $or: [{ Title: regex }, { Description: regex }] }],\n      });\n    },\n    productsByArray: (parent, args) => {\n      return Models.Product.find({\n        _id: { $in: args.array },\n      });\n    },\n    product: (parent, args) => {\n      return Models.Product.findById(args.id);\n    },\n  },\n  Mutation: {\n    createProduct: (parent, args) => {\n      const newProduct = new Models.Product({\n        Title: args.Title,\n        Price: args.Price,\n        Url: args.Url,\n        Description: args.Description,\n      });\n      return newProduct.save();\n    },\n    deleteProduct: (parent, args) => {\n      return Models.Product.findByIdAndDelete(args.id);\n    },\n    updateProduct: async (parent, args, context) => {\n      try {\n        const Product = await Models.Product.findByIdAndUpdate(\n          { _id: args.id },\n          {\n            Title: args.Title,\n            Price: args.Price,\n            Description: args.Description,\n            Url: args.Url,\n          }\n        );\n        return Product;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  },\n};\n"],"file":"product.resolver.js"}